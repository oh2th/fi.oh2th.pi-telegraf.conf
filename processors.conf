## Set default fields on your metric(s) when they are nil or empty
#[[processors.defaults]]

[[processors.strings]]
  namepass = ["sensors"]

  [[processors.strings.trim_prefix]]
    tag = "sensor"
    prefix = "ble/"

[[processors.regex]]
  namepass = ["shellies"]

  [[processors.regex.tags]]
    key = "sensor"
    pattern = '^(\w+)/(\w+)/(\w+)/(\w+)/(\w+)$'
    replacement = "${2}"
    result_key = "name"

  [[processors.regex.tags]]
    key = "sensor"
    pattern = '^(\w+)/(\w+)/(\w+)/(\w+)/(\w+)$'
    replacement = "${3}"
    result_key = "type"

  [[processors.regex.tags]]
    key = "sensor"
    pattern = '^(\w+)/(\w+)/(\w+)/(\w+)/(\w+)$'
    replacement = "${4}"
    result_key = "node"

  [[processors.regex.tags]]
    key = "sensor"
    pattern = '^(\w+)/(\w+)/(\w+)/(\w+)/(\w+)$'
    replacement = "${5}"
    result_key = "sensor"

